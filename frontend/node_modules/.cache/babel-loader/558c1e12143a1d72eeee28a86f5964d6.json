{"ast":null,"code":"import _defineProperty from \"/mnt/sda1/Documents/react-redux-login-signup-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/mnt/sda1/Documents/react-redux-login-signup-form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/mnt/sda1/Documents/react-redux-login-signup-form/src/components/LoginForm.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// libraries\nimport React, { useState, useEffect } from \"react\";\nimport { bindActionCreators } from \"redux\";\nimport { makeStyles, createStyles } from \"@material-ui/core\"; // colors\n\nimport { green } from \"@material-ui/core/colors\"; // hoc\n\nimport { connect } from \"react-redux\";\nimport { SignupForm } from './';\nimport { Typography } from \"@material-ui/core\"; // components\n\nimport { ValidatorForm, TextValidator } from \"react-material-ui-form-validator\";\nimport { FormControl, FormGroup, FormControlLabel, Checkbox, InputAdornment, IconButton, Button, CircularProgress } from \"@material-ui/core\"; // icons\n\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\"; // actions\n\nimport { userActions } from \"../actions\"; // types\n\n// styles\nconst useStyles = makeStyles(theme => createStyles({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  wrapper: {\n    margin: theme.spacing(1),\n    position: \"relative\"\n  },\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\n// login form fc\nconst LoginForm = props => {\n  const classes = useStyles();\n\n  const _useState = useState({\n    email: \"\",\n    name: \"\",\n    phone: \"\",\n    remember: false,\n    checkout: \"\"\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        values = _useState2[0],\n        setValues = _useState2[1];\n\n  function Redirect() {\n    return React.createElement(React.Fragment, null, React.createElement(Typography, {\n      variant: \"h2\",\n      component: \"h2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Host Details\"), React.createElement(SignupForm, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }));\n  }\n\n  ; // handle fields change event\n\n  const handleChange = prop => event => {\n    prop === \"remember\" ? setValues(_objectSpread({}, values, {\n      [prop]: event.target.checked\n    })) : setValues(_objectSpread({}, values, {\n      [prop]: event.target.value\n    }));\n  }; // handle password field\n\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        showPassword = _useState4[0],\n        setShowPassword = _useState4[1];\n\n  const handlePasswordToggle = () => {\n    setShowPassword(!showPassword);\n  };\n\n  const handleMouseDownPassword = event => {\n    event.preventDefault();\n  }; // handle form submit\n\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    props.login(values);\n  };\n\n  useEffect(() => {\n    // onComponentDidMount\n    ValidatorForm.addValidationRule(\"minLength\", value => {\n      if (value.length < 5) {\n        return false;\n      }\n\n      return true;\n    });\n    return () => {\n      // onComponentUnmount\n      ValidatorForm.removeValidationRule(\"minLength\");\n    };\n  }, []);\n  return React.createElement(ValidatorForm, {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    margin: \"dense\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(TextValidator, {\n    label: \"Name\",\n    onChange: handleChange(\"name\"),\n    name: \"name\",\n    value: values.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  })), React.createElement(FormControl, {\n    margin: \"dense\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, React.createElement(TextValidator, {\n    label: \"Email address\",\n    onChange: handleChange(\"email\"),\n    name: \"email\",\n    value: values.email,\n    validators: [\"required\", \"isEmail\"],\n    errorMessages: [\"this field is required.\", \"email is not valid.\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  })), React.createElement(FormControl, {\n    margin: \"dense\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, React.createElement(TextValidator, {\n    label: \"Phone Number\",\n    id: \"adornment-password\" //  type={showPassword ? \"text\" : \"password\"}\n    ,\n    value: values.phone,\n    onChange: handleChange(\"phone\"),\n    name: \"password\",\n    validators: [\"required\", \"minLength:5\"],\n    errorMessages: [\"this field is required.\", \"number should be at least 10 characters.\"],\n    InputProps: {\n      endAdornment: React.createElement(InputAdornment, {\n        position: \"end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        \"aria-label\": \"toggle password visibility\",\n        onClick: handlePasswordToggle,\n        onMouseDown: handleMouseDownPassword,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, showPassword ? React.createElement(Visibility, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }) : React.createElement(VisibilityOff, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      })))\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  })), React.createElement(FormControlLabel, {\n    control: React.createElement(Checkbox, {\n      checked: values.remember,\n      onChange: handleChange(\"remember\"),\n      value: \"remember\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }),\n    label: \"Remember me?\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }), React.createElement(FormControl, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: Redirect,\n    color: \"secondary\",\n    variant: \"contained\",\n    type: \"submit\",\n    disabled: props.auth.loggingIn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  }, \"Check-in Details\"), props.auth.loggingIn && React.createElement(CircularProgress, {\n    size: 24,\n    className: classes.buttonProgress,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }))), React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    margin: \"dense\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }, React.createElement(TextValidator, {\n    label: \"checkout\",\n    onChange: handleChange(\"checkout\"),\n    name: \"checkout\",\n    value: values.checkout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  })), React.createElement(FormControl, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: onCheckout,\n    color: \"secondary\",\n    variant: \"contained\",\n    type: \"submit\",\n    disabled: props.auth.loggingIn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }, \"Check-Out Details\"), props.auth.loggingIn && React.createElement(CircularProgress, {\n    size: 24,\n    className: classes.buttonProgress,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247\n    },\n    __self: this\n  }))));\n};\n\nconst mapStateToProps = state => ({\n  auth: state.authentication\n});\n\nconst mapDispatchToProps = dispatch => ({\n  login: bindActionCreators(userActions.login, dispatch)\n});\n\nconst connectedLoginForm = connect(mapStateToProps, mapDispatchToProps)(LoginForm);\nexport { connectedLoginForm as LoginForm };","map":{"version":3,"sources":["/mnt/sda1/Documents/react-redux-login-signup-form/src/components/LoginForm.tsx"],"names":["React","useState","useEffect","bindActionCreators","makeStyles","createStyles","green","connect","SignupForm","Typography","ValidatorForm","TextValidator","FormControl","FormGroup","FormControlLabel","Checkbox","InputAdornment","IconButton","Button","CircularProgress","Visibility","VisibilityOff","userActions","useStyles","theme","root","display","alignItems","wrapper","margin","spacing","position","buttonProgress","color","top","left","marginTop","marginLeft","LoginForm","props","classes","email","name","phone","remember","checkout","values","setValues","Redirect","handleChange","prop","event","target","checked","value","showPassword","setShowPassword","handlePasswordToggle","handleMouseDownPassword","preventDefault","handleSubmit","login","addValidationRule","length","removeValidationRule","endAdornment","auth","loggingIn","onCheckout","mapStateToProps","state","authentication","mapDispatchToProps","dispatch","connectedLoginForm"],"mappings":"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","sourcesContent":["// libraries\nimport React, { useState, useEffect } from \"react\";\nimport { bindActionCreators } from \"redux\";\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core\";\n\n// colors\nimport { green } from \"@material-ui/core/colors\";\n\n// hoc\nimport { connect } from \"react-redux\";\n\nimport { SignupForm } from './';\nimport { Paper, Tabs, Tab, Grid, Typography } from \"@material-ui/core\";\n// components\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { ValidatorForm, TextValidator } from \"react-material-ui-form-validator\";\nimport {\n  FormControl,\n  FormGroup,\n  FormControlLabel,\n  Checkbox,\n  InputAdornment,\n  IconButton,\n  Button,\n  CircularProgress\n} from \"@material-ui/core\";\n\n// icons\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\n\n// actions\nimport { userActions } from \"../actions\";\n\n// types\nimport { AppState } from \"../reducers\";\nimport { AuthState, AppActions } from \"../types\";\n\n\n// styles\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n      alignItems: \"center\"\n    },\n    wrapper: {\n      margin: theme.spacing(1),\n      position: \"relative\"\n    },\n    buttonProgress: {\n      color: green[500],\n      position: \"absolute\",\n      top: \"50%\",\n      left: \"50%\",\n      marginTop: -12,\n      marginLeft: -12\n    }\n  })\n);\n\ntype LoginFormState = {\n  email: string;\n  name: string;\n  remember: boolean;\n  phone : string;\n  checkout: string;\n};\n\ntype Props = LinkStateToProps & LinkDispatchToProps;\n\n// login form fc\nconst LoginForm: React.FC<Props> = (props: Props) => {\n  const classes = useStyles();\n\n  const [values, setValues] = useState<LoginFormState>({\n    email: \"\",\n    name: \"\",\n    phone: \"\",\n    remember: false,\n    checkout: \"\"\n  });\n\n\n    \n    function  Redirect(){\n    return( \n      <>\n      {/* Login title */}\n      <Typography variant=\"h2\" component=\"h2\">\n        Host Details\n      </Typography>\n\n      {/* Login form */}\n      <SignupForm />\n    </>\n    \n    );\n};\n  // handle fields change event\n  const handleChange = (prop: keyof LoginFormState) => (\n    event: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    prop === \"remember\"\n      ? setValues({ ...values, [prop]: event.target.checked })\n      : setValues({ ...values, [prop]: event.target.value });\n  };\n\n  // handle password field\n  const [showPassword, setShowPassword] = useState(false);\n  const handlePasswordToggle = () => {\n    setShowPassword(!showPassword);\n  };\n  const handleMouseDownPassword = (\n    event: React.MouseEvent<HTMLButtonElement>\n  ) => {\n    event.preventDefault();\n  };\n\n  // handle form submit\n  const handleSubmit = (event: any): void => {\n    event.preventDefault();\n    props.login(values);\n  };\n\n  useEffect(() => {\n    // onComponentDidMount\n    ValidatorForm.addValidationRule(\"minLength\", value => {\n      if (value.length < 5) {\n        return false;\n      }\n      return true;\n    });\n\n    return () => {\n      // onComponentUnmount\n      ValidatorForm.removeValidationRule(\"minLength\");\n    };\n  }, []);\n\n  return (\n    <ValidatorForm onSubmit={handleSubmit}>\n      <FormGroup>\n        {/*name field*/}\n        <FormControl margin=\"dense\">\n          <TextValidator\n            label=\"Name\"\n            onChange={handleChange(\"name\")}\n            name=\"name\"\n            value={values.name}\n            \n        \n          />\n        </FormControl>\n\n        {/* email input field */}\n        <FormControl margin=\"dense\">\n          <TextValidator\n            label=\"Email address\"\n            onChange={handleChange(\"email\")}\n            name=\"email\"\n            value={values.email}\n            validators={[\"required\", \"isEmail\"]}\n            errorMessages={[\"this field is required.\", \"email is not valid.\"]}\n          />\n        </FormControl>\n\n        {/* password input field */}\n        <FormControl margin=\"dense\">\n          <TextValidator\n            label=\"Phone Number\"\n            id=\"adornment-password\"\n          //  type={showPassword ? \"text\" : \"password\"}\n            value={values.phone}\n            onChange={handleChange(\"phone\")}\n            name=\"password\"\n            validators={[\"required\", \"minLength:5\"]}\n            errorMessages={[\n              \"this field is required.\",\n              \"number should be at least 10 characters.\"\n            ]}\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    aria-label=\"toggle password visibility\"\n                    onClick={handlePasswordToggle}\n                    onMouseDown={handleMouseDownPassword}\n                  >\n                    {showPassword ? <Visibility /> : <VisibilityOff />}\n                  </IconButton>\n                </InputAdornment>\n              )\n            }}\n          />\n        </FormControl>\n\n        {/* remember me input */}\n        <FormControlLabel\n          control={\n            <Checkbox\n              checked={values.remember}\n              onChange={handleChange(\"remember\")}\n              value=\"remember\"\n            />\n          }\n          label=\"Remember me?\"\n        />\n\n        {/* submit form button */}\n        <FormControl>\n          <Button onClick ={Redirect}\n            color=\"secondary\"\n            variant=\"contained\"\n            type=\"submit\"\n            disabled={props.auth.loggingIn}\n          >\n            Check-in Details\n          </Button>\n          {props.auth.loggingIn && (\n            <CircularProgress size={24} className={classes.buttonProgress} />\n          )}\n        </FormControl>\n      </FormGroup>\n   \n    <FormGroup>\n      {/*name field*/}\n      <FormControl margin=\"dense\">\n        <TextValidator\n          label=\"checkout\"\n          onChange={handleChange(\"checkout\")}\n          name=\"checkout\"\n          value={values.checkout}\n     \n      \n        />\n      </FormControl>\n      <FormControl>\n          <Button onClick ={onCheckout}\n            color=\"secondary\"\n            variant=\"contained\"\n            type=\"submit\"\n            disabled={props.auth.loggingIn}\n          >\n            Check-Out Details\n          </Button>\n          {props.auth.loggingIn && (\n            <CircularProgress size={24} className={classes.buttonProgress} />\n          )}\n        </FormControl>\n      </FormGroup>\n    </ValidatorForm>\n  );\n};\n\ninterface LinkStateToProps {\n  auth: AuthState;\n}\n\ninterface LinkDispatchToProps {\n  login: ({\n    email,\n    name,\n    phone,\n    remember,\n    checkout\n  }: {\n    email: string;\n    name: string;\n    phone: string;\n    remember?: boolean;\n    checkout: string;\n  }) => void;\n}\n\nconst mapStateToProps = (state: AppState): LinkStateToProps => ({\n  auth: state.authentication\n});\n\nconst mapDispatchToProps = (\n  dispatch: ThunkDispatch<any, any, AppActions>\n): LinkDispatchToProps => ({\n  login: bindActionCreators(userActions.login, dispatch)\n});\n\nconst connectedLoginForm = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(LoginForm);\nexport { connectedLoginForm as LoginForm };\n"]},"metadata":{},"sourceType":"module"}