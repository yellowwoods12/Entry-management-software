{"ast":null,"code":"// constants\nimport { USER_LOGIN_FAILURE, USER_LOGIN_REQUEST, USER_LOGIN_SUCCESS, USER_LOGOUT, USER_REGISTER_FAILURE, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS } from \"../constants\"; // services\n\nimport { userService } from \"../services\"; // helpers\n\nimport { history } from \"../helpers\"; // types\n\n// user login action\nconst login = ({\n  email,\n  name,\n  phone,\n  remember = false\n}) => {\n  return (dispatch, useState) => {\n    // logging in\n    dispatch(request()); // send login request to server\n\n    userService.login({\n      email,\n      name,\n      phone,\n      remember\n    }).then(user => {\n      // login was successful\n      dispatch(success(user));\n      history.push(\"/dashboard\");\n    }, error => {\n      // login failed\n      alert(error);\n      dispatch(failure(error));\n    });\n\n    function request() {\n      return {\n        type: USER_LOGIN_REQUEST\n      };\n    }\n\n    function success(user) {\n      return {\n        type: USER_LOGIN_SUCCESS,\n        payload: user\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: USER_LOGIN_FAILURE,\n        payload: error\n      };\n    }\n  };\n}; // user register action\n\n\nconst register = ({\n  fullName,\n  email,\n  password\n}) => {\n  return (dispatch, useState) => {\n    // logging in\n    dispatch(request()); // send login request to server\n\n    userService.register({\n      fullName,\n      email,\n      password\n    }).then(() => {\n      // register was successful\n      dispatch(success());\n      window.location.reload(true);\n    }, error => {\n      // register failed\n      alert(error);\n      dispatch(failure(error));\n    });\n\n    function request() {\n      return {\n        type: USER_REGISTER_REQUEST\n      };\n    }\n\n    function success() {\n      return {\n        type: USER_REGISTER_SUCCESS\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: USER_REGISTER_FAILURE,\n        payload: error\n      };\n    }\n  };\n}; // user logout action\n\n\nconst logout = () => {\n  userService.logout();\n  history.push(\"/\");\n  return {\n    type: USER_LOGOUT\n  };\n};\n\nexport const userActions = {\n  login,\n  register,\n  logout\n};","map":{"version":3,"sources":["/mnt/sda1/Documents/react-redux-login-signup-form/src/actions/user.action.ts"],"names":["USER_LOGIN_FAILURE","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGOUT","USER_REGISTER_FAILURE","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","userService","history","login","email","name","phone","remember","dispatch","useState","request","then","user","success","push","error","alert","failure","type","payload","register","fullName","password","window","location","reload","logout","userActions"],"mappings":"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","sourcesContent":["// constants\nimport {\n  USER_LOGIN_FAILURE,\n  USER_LOGIN_REQUEST,\n  USER_LOGIN_SUCCESS,\n  USER_LOGOUT,\n  USER_REGISTER_FAILURE,\n  USER_REGISTER_REQUEST,\n  USER_REGISTER_SUCCESS\n} from \"../constants\";\n\n// services\nimport { userService } from \"../services\";\n\n// helpers\nimport { history } from \"../helpers\";\n\n// types\nimport { Dispatch } from \"redux\";\nimport { AppActions, User } from \"../types\";\nimport { AppState } from \"../reducers\";\n\n// user login action\nconst login = ({\n  email,\n  name,\n  phone,\n  remember = false\n}: {\n  email: string;\n  name: string;\n  phone: string;\n  remember?: boolean;\n}) => {\n  return (dispatch: Dispatch<AppActions>, useState: () => AppState) => {\n    // logging in\n    dispatch(request());\n\n    // send login request to server\n    userService.login({ email, name, phone, remember }).then(\n      user => {\n        // login was successful\n        dispatch(success(user));\n        history.push(\"/dashboard\");\n      },\n      error => {\n        // login failed\n        alert(error);\n        dispatch(failure(error));\n      }\n    );\n\n    function request(): AppActions {\n      return { type: USER_LOGIN_REQUEST };\n    }\n    function success(user: User): AppActions {\n      return { type: USER_LOGIN_SUCCESS, payload: user };\n    }\n    function failure(error: any): AppActions {\n      return { type: USER_LOGIN_FAILURE, payload: error };\n    }\n  };\n};\n\n// user register action\nconst register = ({\n  fullName,\n  email,\n  password\n}: {\n  fullName: string;\n  email: string;\n  password: string;\n}) => {\n  return (dispatch: Dispatch<AppActions>, useState: () => AppState) => {\n    // logging in\n    dispatch(request());\n\n    // send login request to server\n    userService.register({ fullName, email, password }).then(\n      () => {\n        // register was successful\n        dispatch(success());\n        window.location.reload(true);\n      },\n      error => {\n        // register failed\n        alert(error);\n        dispatch(failure(error));\n      }\n    );\n\n    function request(): AppActions {\n      return { type: USER_REGISTER_REQUEST };\n    }\n    function success(): AppActions {\n      return { type: USER_REGISTER_SUCCESS };\n    }\n    function failure(error: any): AppActions {\n      return { type: USER_REGISTER_FAILURE, payload: error };\n    }\n  };\n};\n\n// user logout action\nconst logout = () => {\n  userService.logout();\n  history.push(\"/\");\n  return { type: USER_LOGOUT };\n};\n\nexport const userActions: any = {\n  login,\n  register,\n  logout\n};\n"]},"metadata":{},"sourceType":"module"}